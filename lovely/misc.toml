[manifest]
version = "1.0.0"
priority = -10

[[patches]]
[patches.regex]
target = "functions/button_callbacks.lua"
pattern = '''extended_corpus and "'''
position = "after"
payload = "@#"

[[patches]]
[patches.regex]
target = "functions/UI_definitions.lua"
pattern = '''G\.C\.UI\.TEXT_DARK, scale = 0\.4'''
position = "at"
payload = "G.C.UI.TEXT_DARK, scale = tooltip.text_scale or 0.4"
times = 3

[[patches]]
[patches.regex]
target = "functions/UI_definitions.lua"
pattern = '''button = back_func'''
position = "after"
payload = ", ref_table = args.ref_table"

[[patches]]
[patches.module]
source = "include/nativefs.lua"
before = "main.lua"
name = "imm-nativefs"

[[patches]]
[patches.module]
source = "include/json.lua"
before = "main.lua"
name = "imm-json"
